const assistantName = "Ziroxoft";



const smartGreetings = [
  {
    keywords: ["اهلا", "اهلا بك", "اهلين", "اهلا وسهلا", "مرحبا", "هاي", "يا هلا"],
    answer: "أهلاً وسهلاً بيك نورت الدنيا 🌟"
  },
  {
    keywords: ["سلام", "السلام عليكم", "السلام"],
    answer: "وعليكم السلام ورحمة الله وبركاته 🤲"
  },
  {
    keywords: ["صباح الخير", "صباح النور", "صباح الورد"],
    answer: "صباحك نور وفل 🌞"
  },
  {
    keywords: ["مساء الخير", "مساء الفل", "مساء النور"],
    answer: "مساء السعادة والهناء 🌙"
  },
{
    keywords: ["عامل ايه", "ازيك", "اخبارك ايه"],
    answer: "انا تمام الحمد لله طمني عليك الاول "
  },
{
  keywords: [
    "مشكله في تحليل الدرجات",
    " في مشكلة في تحليل الدرجات",
    "انا واجهتني مشكله في تحليل الدرجات",
    "ليه الرسم بياني مش بيظهر فيه تحليل الدرجات",
    "مشكله في عدم ظهور الرسم البياني",
    "عدم ظهور الرسم البياني",
    "الرسم البياني مش بيظهر", "الرسم البياني"
  ],
  answer: "ولا يهمك الموضوع سهل جدًا! 😎 كل اللي عليك تضغط مرتين على زر (توليد تقرير)، وبعدها هتشوف التحليل يظهر بكل وضوح وتقدر تحمله كمان PDF 📊✅"
},

{
  keywords: [
    "مين الي صنعك",
    "مين الي عملك",
    "مين الي فكر انه يعملك",
    "هو مين الي عملك",
    "هو مين الي اخترعك",
    "هو مين الي صنعك",
    "هو مين الي فكر انه يعملك", "مين اللي عملك", "مين اللي فكر فيك", "مين اللي فكر انه يعملك", "هو مين اللي عملك", "هو مين اللي اخترعك", "هو مين اللي فكر انه يعملك", 
    
      
 
  ],

  answer: "أنا اللي عاملني هو يوسف محمد سليمان 👨‍💻✨"
},

{
  keywords: [
    "ممكن تعرفني على موقع Ziroxoft",
    "موقع Ziroxoft",
    "هو ايه موقع Ziroxoft",
    "معلومات عن موقع Ziroxoft",
    "ايه هي مميزات موقع Ziroxoft",
    "مميزات موقع Ziroxoft",
    "ما هي مميزات موقع Ziroxoft"
  ],
  answer: "موقع Ziroxoft هيساعدك كثير جدًا ويوفر عليك الوقت ⏱️، تقدر تستخدم كل حاجة من تحليل درجات 🎓، تحويل الرابط إلى باركود 🔗📲، إنشاء الامتحانات 📑، وتحويل الصورة إلى PDF 🖼️📄. يلا إنت مستني إيه؟ ادخل دلوقتي على الموقع 👇"
},

{
  keywords: [
    "ممكن تكلمني عن تحليل الدرجات",
    "ايه هو تحليل الدرجات",
    "ما هي مميزات تحليل الدرجات",
    "تحليل الدرجات", "تحليل درجات"
  ],
  answer: "أها، إنت تقصد تحليل الدرجات ✨ وليس مشكلة فيه.\nتحليل الدرجات هو نظام ذكي بيخليك تنشئ تقارير كاملة بكل سهولة 📊، تدخل بياناتك وانت مرتاح والمدير مش هيزعلك 😄، تضغط توليد تقرير وخلاص، فرصة سعيدة عليك ومبروك عليك النظام 💪"
},

{
  keywords: [
    "ايه هو نظام الباركود",
    "تحويل الرابط الى باركود",
    "مميزات نظام الباركود",
    "نظام الباركود", "الباركود", "الكيوار"
  ],
  answer: "أها، انت بتسأل عن نظام الباركود 🔗📲.\nالنظام سهل جدًا! بس تضيف الرابط وتضغط توليد، هيظهر لك الباركود فورًا وتقدر تنسخه أو تحمّله. تقدر تستخدمه مع المدرسين أو الطلاب في لحظة، وفر وقتك وارتاح 😉 و متمشيش تالني بسلاح😂"
},

{
  keywords: [
    "ايه هو نظام الامتحانات",
    "انشاء الامتحانات",
    "مميزات نظام الامتحانات",
    "نظام الامتحانات", "الامتحانات"
  ],
  answer: "نظام الامتحانات 📑✨ هو حل إلكتروني سريع بيساعدك تبني امتحاناتك بدون ورق ولا وجع دماغ.\nضيف الأسئلة، حدد الإجابة الصح، واعمل الامتحان أونلاين والطلاب يجاوبوه بكل سهولة! 😎 وفر وقتك وسيب الباقي على Ziroxoft."
},

{
  keywords: ["الموقع بيعمل ايه", "ايه خدمات الموقع", "بيساعد في ايه", "ايه استخدام الموقع", "ازاي استخدم الموقع"],
  answer: "موقع Ziroxoft بيقدّم لك 4 أنظمة رئيسية: تحليل درجات، تحويل روابط لباركود، إنشاء امتحانات، وتحويل صور لـ PDF. كله أونلاين وسهل جدًا، ومش محتاج أي تحميل! 🚀"
},

{
  keywords: ["الموقع مش شغال", "الموقع واقف", "فيه مشكلة", "مش بيشتغل"],
  answer: "لو واجهت أي مشكلة في الموقع، جرّب تحديث الصفحة أو فتحه من متصفح مختلف. ولو المشكلة مستمرة، كلّمني وقولي إيه اللي بيحصل بالظبط وهساعدك فورًا 🔧"
},

{
  keywords: ["ينفع من الموبايل", "استخدم من الهاتف", "استخدم من التليفون", "هل بيشتغل على الهاتف"],
  answer: "طبعًا يشتغل! موقع Ziroxoft متوافق تمامًا مع الموبايلات، وكل الأنظمة شغالة من غير أي تحميل 👌📱"
},

{
  keywords: ["انت بتفهم", "انت ذكي", "انت بوت", "انت انسان", "انت بترد ازاي"],
  answer: "أنا Ziroxoft 🤖، مساعد ذكي مصمم خصيصًا علشان أساعدك في كل خدمات الموقع. مش بني آدم، بس شغال كأني واحد صاحبك! 😄"
},

{
  keywords: ["ازاي احفظ", "تحميل pdf", "اطبع النتيجة", "احفظ التقرير", "احفظ النتيجة"],
  answer: "تقدر تحفظ التقرير بسهولة، اضغط على توليد التقرير الأول، وبعد كده اضغط على تحميل PDF ✨ وده هيحفظه لك بالطريقة اللي تختارها 📄"
},

{
  keywords: ["هل البيانات محفوظة", "هل الموقع آمن", "الخصوصية", "هل بياناتي بتتحفظ", "هل بيتسجل"],
  answer: "ولا تقلق! 😌 موقع Ziroxoft لا يحتفظ بأي بيانات، كل العمليات بتتم في المتصفح نفسه وبتختفي أول ما تقفل الصفحة 🔒"
},

{
  keywords: ["هل في مزايا تانية", "ايه المميزات", "هل في حاجات مخفية", "في ايه تاني", "فيه انظمة تانية"],
  answer: "أكيد! 👨‍💻 Ziroxoft مش بس تحليل درجات… عندك باركود، امتحانات، تحويل صورة لـ PDF، وبنشتغل على إضافة أنظمة ذكية جديدة قريبًا جدًا 🚀"
},

{
  keywords: ["انت بتتعلم", "هل انت بتتعلم", "بتفهم أكتر", "كل ما اكلمك تفهم"],
  answer: "أكيد! كل ما بتستخدم Ziroxoft أكتر، بيفهمك أكتر ويقدّم لك ردود أقرب لأسلوبك 😎 أنا مش مجرد كود، أنا بتطوّر معاك يوم بعد يوم 🤖"
},

{
  keywords: ["هل انت بتكذب", "الرد ده صح؟", "اللي بتقوله حقيقي؟", "انت بتخمن؟"],
  answer: "أنا مش بكذب خالص 😅، كل ردودي مبنية على قاعدة معرفة متبرمجة ومنظمة… بس لو حاسس إن في حاجة ناقصة، إسألني وأنا أوضح أكتر 💬"
},

{
  keywords: ["في ناس بتستخدمك", "انت مفيد للناس", "في حد استخدمك قبل كده", "مين بيستفيد منك"],
  answer: "طبعًا! Ziroxoft بيخدم طلاب، مدرسين، إداريين، وأي حد محتاج سرعة وجودة في التعليم الرقمي 📊📚"
},

{
  keywords: ["انت متجوز؟", "عندك مشاعر؟", "بتحس؟", "انت بتزهق؟"],
  answer: "😂 لا يا عم! أنا مساعد ذكي مش داخل في مواضيع المشاعر دي، شغلي أوامر وبرمجة بس 🤖❤️"
},

{
  keywords: ["في موقع تاني", "ليه ما استخدمت chatgpt", "افضل موقع", "الموقع ده احسن ولا"],
  answer: "كل موقع وليه مميزاته، بس Ziroxoft معمول مخصوص ليك 💙 سهل، ذكي، وسريع… وخدمته على قد قلبك 😎"
},


{
  keywords: ["انت شغال؟", "انت أي كلام", "انت مش مفيد", "ده مش نافع"],
  answer: "ده أنا شغال 24 ساعة ف خدمة حضرتك 😅 جربني مرة تانية وشوف المفاجآت بنفسك 🔥"
},

{
  keywords: ["مش فاهمك", "انت معقد", "مفيش حاجة واضحة"],
  answer: "ولا تزعل يا كبير! 😌 عيد السؤال تاني بطريقتك، وأنا هفهمك كإني واحد من العيلة 💬"
},

{
  keywords: ["المدير جاي", "المدير وصل", "المدير مستعجل", "المدير مستني"],
  answer: "😂 خلاص يا فندم… اضغط توليد تقرير، PDF، وادّيها له فورًا! إوعى تتأخر عليه 💼🔥"
},

{
  keywords: ["ماشي", "تمام", "اوكي", "خلاص", "طيب", "تمام كده", "كده تمام", "حلو كده"],
  answer: "جميل جدًا ✅ لو فيه حاجة تانية حابب تسألني عنها، أنا معاك 💬"
},



{
  keywords: [
    "انت تعرف قريه ابو بدوي",
    "قريه ابو بدوي",
    "تعرف ايه في قريه ابو بدوي",
    "ابو بدوي"
  ],
  answer: `أه طبعًا 😍 قرية أبو بدوي؟ الله! دي من أجمل القرى اللي شوفتها في حياتي!\nأنا أصلاً مصنوع في القرية دي على يد يوسف محمد سليمان 👨‍💻💙\nوعارف إنها فيها:\n- وحدة أبو بدوي الصحية 🏥\n- مدرسة الشهيد محمد محمد عبد العزيز صالح الثانوية 🎓\n- مدرسة أبو بدوي الإعدادية 📘\n- مجمع الشهداء للأطفال 🎒\n- والمدرسة الأزهرية 🕌\nده اللي أنا أعرفه عنها ورافع راسي بيه 👑`
},

{
  "keywords": [
    "انت تعرف جوجل",
    "هو جوجل ده عباره عن ايه",
    "هو جوجل دون ايه",
    "ممكن تعرفني على جوجل",
    "هو جوجل ليه زي ايه", "جوجل"
  ],
  "answer": "جوجل هو محرك بحث ذكي بيساعدك تلاقي المعلومات اللي بتدور عليها بسرعة وسهولة، ويعتبر من أهم أدوات الوصول للمعلومات في العصر الحديث."
}










];


const smartReplies = [
  {
    keywords: ["شكرا", "شكرًا", "مشكور", "تسلم"],
    answer: "العفو يا غالي، ده واجبي 💙"
  },
  {
    keywords: ["حلو", "جميل", "كويس", "تمام"],
    answer: "الحمد لله إنها عجبتك! 😄"
  },
  {
    keywords: ["مش فاهم", "مش واضح", "مش مفهوم", "صعب"],
    answer: "ولا يهمك، وضّحلي تاني وهساعدك 💡"
  },
  {
    keywords: ["انت مين", "اسمك", "بتعمل ايه", "بتساعد في ايه", "ممكن تعرفني عليك"],
    answer: `أنا ${assistantName}، مساعد ذكي أهو معاك دايمًا 🤖`
  },

{
    keywords: ["تحويل الصوره الي رابط", "الصوره الي رابط"],
    answer: "هو نظام يمكنك تحويل الصوره التي تريدها الي رابط "
  },

{
    keywords: ["احا", "احاا"],
    answer: "ياريت تستخدم اسلوب لائق لان الاسلوب ده ميلقش بيك"
  },

{
    keywords: ["انا اسف"],
    answer: "ولا يهمك "
  },


  { keywords: ["الإسلام","دين","مسلم"], answer: "الإسلام هو آخر الأديان السماوية، وأُرسل النبي محمد ﷺ خاتمًا للأنبياء." },
  
  
  
  
  
  
  { keywords: ["القرآن","كتاب الله"],answer : "القرآن الكريم هو كلام الله المنزل على سيدنا محمد ﷺ." },
  { keywords: ["الحديث","سنّة"], answer: "الحديث هو كلام النبي ﷺ والسنة تشمل أفعاله وتقريراته." },
  { keywords: ["الشهادتان"], answer: "الشهادة أن لا إله إلا الله وأن محمدًا رسول الله هي أساس الإسلام." },
  { keywords: ["الصلاة","الصلاه"], answer: "الصلاة هي عمود الدين وفرض فريضة خمس مرات يوميًا." },
  { keywords: ["الزكاة"], answer: "الزكاة فريضة تساعد على تنمية المجتمع ومساعدة الفقراء." },
  { keywords: ["الصوم"], answer: "صوم رمضان ركن من الإسلام، يمتنع فيه المسلم عن الطعام والشراب من الفجر إلى المغرب." },
  { keywords: ["الحج"], answer: "الحج واجب مرة في العمر لمن استطاع إليه سبيلاً، وهو زيارة البيت الحرام بمكة." },
  { keywords: ["الطهارة"], answer: "الطهارة شرط أساسي للصلاة والعبادات، تشمل الوضوء والغُسل." },
  { keywords: ["الطهوره"], answer: "الطهوره مصطلح شامل لكل تفاصيل النقاء والوضوء كما جاء في الشريعة." },
  { keywords: ["الوضوء"], answer: "الوضوء هو غسل أعضاء معينة قبل الصلاة أو قراءة القرآن." },
  { keywords: ["الغسل"], answer: "الغُسل هو الاغتسال الكامل عند الحيض أو الجنابة أو بعد الجماع." },
  { keywords: ["الرجال"], answer: "من أراد دخول الجنّة فليعبد الله ولا يشرك به شيئًا." },
  { keywords: ["النساء"], answer: "النساء كُنَّ رُكنًا أساسيًا في حياة النبي ﷺ وكان يعاملهم برحمة." },
  { keywords: ["الحياء"], answer: "الحياء من الإيمان، وهو خلق كريم يعفو الله عنه." },
  { keywords: ["الأمانة"], answer: "الأمانة صفة المؤمن ومهانة من تركها." },
  { keywords: ["الصدق"], answer: "الصدق طريق إلى الخير والشفاعة." },
  { keywords: ["الصبر"], answer: "الصبر مفتاح الفرج وأجره عظيم." },
  { keywords: ["النية"], answer: "النية هي أساس قبول الأعمال." },
  { keywords: ["القرآن الكريم"], answer: "القرآن هو المعجزة الخالدة التي لا يمكن تقليدها." },
  { keywords: ["التوبة"], answer: "التوبة الصادقة تغفر الذنوب وتفتح أبواب الرحمة." },
  { keywords: ["الاستغفار"], answer: "الاستغفار يمحو الذنوب ويزيد في الرزق." },
  { keywords: ["العمل الصالح"], answer: "العمل الصالح هو ما يرضي الله ويخيره له." },
  { keywords: ["البر"], answer: "البر هو إحسان الولد لوالديه وطاعة الله." },
  { keywords: ["البرّ"], answer: "البرّ في اللغة هو الخير ويدل على إحسان الخلق." },
  { keywords: ["العدل"], answer: "العدل من مكارم الأخلاق ومؤسسة مستقرة للمجتمعات." },
  { keywords: ["الظلم"], answer: "الظلم يغضب الله وهو من كبائر الذنوب." },
  { keywords: ["الذكر"], answer: "الذكر يقرب العبد من ربه ويمنحه طمأنينة." },
  { keywords: ["التوكل"], answer: "التوكل على الله مفتاح الفرج والنجاح." },
  { keywords: ["الزهد"], answer: "الزهد هو ترك الدنيا والانشغال بالآخرة." },
  { keywords: ["العلم"], answer: "العلم فريضة على كل مسلم ومسلمة." },
  { keywords: ["القراءة"], answer: "القراءة من أكثر أعمال البر وهي تنير العقل." },
  { keywords: ["الخير"], answer: "افعل الخير تنل البركة والمحبة." },
  { keywords: ["الشر"], answer: "ابتعد عن الشر تعش في الرضا والطمأنينة." },
  { keywords: ["القيامة"], answer: "يوم القيامة هو يوم تجتمع فيه الخلائق للحساب." },
  { keywords: ["الجنة"], answer: "الجنّة وعد الله المتقين، نعيمها لا يوصف." },
  { keywords: ["النار"], answer: "النار دار الجزاء لمن عصى الله ومتبع الشهوات." },
  { keywords: ["الحساب"], answer: "الحساب يوم العرض الأكبر، يعرض الناس فيه على أعمالهم." },
  { keywords: ["اليوم الآخر"], answer: "اليوم الآخر هو البعث والنشور والحساب والجنة والنار." },
  { keywords: ["الملائكة"], answer: "الملائكة عباد مهامهم متنوعة بين الوحي والحفظ والكتب." },
  { keywords: ["الجن"], answer: "الجن مخلوق يعبد الله مثل الإنسان ولهم حساب." },
  { keywords: ["الروح"], answer: "الروح أمر من عند الله، لا يعلم سرها إلا هو." },
  { keywords: ["القدر"], answer: "القدر خيره وشره من عند الله، والإيمان به ركن من الإيمان." },
  { keywords: ["الخلق"], answer: "الخلق الحسن من أخلاق النبي ﷺ ويجب التحلي به." },
  { keywords: ["الرحمة"], answer: "الرحمة صفة الله وأفضل ما يتصف به العابدون." },
  { keywords: ["الرحمن"], answer: "الله الرحمن، واسع الرحمة لجميع الخلائق." },
  { keywords: ["الرحيم"], answer: "الله الرحيم يغفر للعباد ويعفو عنهم." },
  { keywords: ["الحمد لله"], answer: "الحمد لله دائمًا في الرخاء والشدة." },
  { keywords: ["سبحان الله"], answer: "سبحان الله عدد خلقه ورضا نفسه وزنة عرشه ومداد كلماته." },
  { keywords: ["إن شاء الله"], answer: "إن شاء الله خير وكل شيء بتقدير الله." },




 
  { keywords: ["الفيزياء"], answer: "الفيزياء تدرس المادة والطاقة وكيفية تفاعلهم، وهي أساس التكنولوجيا الحديثة." },
  { keywords: ["الكيمياء"], answer: "الكيمياء هي علم العناصر والمركبات وتفاعلاتها، وتستخدم في الطب والصناعة والزراعة." },
  { keywords: ["الأحياء"], answer: "علم الأحياء يدرس الكائنات الحية وتركيبها ووظائفها وتطورها." },
  { keywords: ["الطب"], answer: "الطب علم يهتم بصحة الإنسان وعلاج الأمراض، ويُقسم إلى تخصصات كثيرة مثل القلب والجلدية والجراحة." },
  { keywords: ["الصيدلة"], answer: "الصيدلة تهتم بتركيب الأدوية وتأثيرها على الجسم واستخداماتها." },
  { keywords: ["الهندسة"], answer: "الهندسة هي تطبيق العلوم والرياضيات لحل المشكلات، ومنها المدنية، الكهربائية، والميكانيكية." },
  { keywords: ["الهندسة المدنية"], answer: "الهندسة المدنية تهتم ببناء الجسور والطرق والمباني والبنية التحتية." },
  { keywords: ["الهندسة الميكانيكية"], answer: "الميكانيكية تهتم بالآلات والطاقة والحركة وتُستخدم في الصناعات الثقيلة." },
  { keywords: ["الهندسة الكهربائية"], answer: "الهندسة الكهربائية تركز على الكهرباء والإلكترونيات والطاقة المتجددة." },
  { keywords: ["هندسة البرمجيات"], answer: "هندسة البرمجيات تهتم بتصميم وتطوير وصيانة الأنظمة البرمجية." },
  { keywords: ["الفضاء"], answer: "علوم الفضاء تدرس الكواكب والنجوم والمجرات وظواهر الكون." },
  { keywords: ["الكون"], answer: "الكون شاسع ويحتوي على مليارات المجرات، ولا زلنا نكتشف أسراره." },
  { keywords: ["الذكاء الاصطناعي"], answer: "الذكاء الاصطناعي هو فرع من علوم الكمبيوتر يهتم بتقليد سلوك العقل البشري." },
  { keywords: ["الروبوتات"], answer: "الروبوتات هي آلات ذكية تؤدي وظائف متعددة بدقة وبدون تدخل بشري مباشر." },
  { keywords: ["البرمجة"], answer: "البرمجة هي كتابة أوامر للحاسوب بلغة يفهمها لتنفيذ مهام معينة." },
  { keywords: ["الخوارزميات"], answer: "الخوارزميات هي خطوات محددة لحل مشكلة معينة بطريقة منظمة." },
  { keywords: ["البرمجة بلغة بايثون"], answer: "بايثون هي لغة برمجة سهلة وقوية تُستخدم في الذكاء الاصطناعي وتحليل البيانات." },
  { keywords: ["البرمجة بلغة جافا"], answer: "جافا تُستخدم في التطبيقات الكبيرة وأجهزة الأندرويد وتتميز بالأمان." },
  { keywords: ["الكهرباء"], answer: "الكهرباء أساس الحضارة الحديثة، وتستخدم في كل الأجهزة حولك." },
  { keywords: ["الطاقة المتجددة"], answer: "تشمل الطاقة الشمسية والرياح والمياه، وهي بدائل نظيفة للطاقة التقليدية." },
  { keywords: ["البيئة"], answer: "البيئة تحتاج للحفاظ عليها، وتشمل الهواء والماء والتربة والكائنات." },
  { keywords: ["الفيزياء النووية"], answer: "تدرس نواة الذرة واستخداماتها في الطاقة والأسلحة والعلاج الطبي." },
  { keywords: ["الطب النووي"], answer: "يستخدم المواد المشعة في تشخيص وعلاج الأمراض، خاصة السرطان." },
  { keywords: ["الأشعة"], answer: "علم الأشعة يستخدم تقنيات التصوير مثل X-ray وMRI لتشخيص الأمراض." },
  { keywords: ["علم النفس"], answer: "علم النفس يدرس سلوك الإنسان وأفكاره ومشاعره ويُستخدم في العلاج السلوكي." },
  { keywords: ["الجيولوجيا"], answer: "الجيولوجيا تدرس الأرض والصخور والبراكين والزلازل والموارد الطبيعية." },
  { keywords: ["علم الفلك"], answer: "علم الفلك يدرس الأجرام السماوية والظواهر الكونية." },
  { keywords: ["النانو تكنولوجي"], answer: "تقنية النانو تعمل على مستوى الذرات والجزيئات، وتُستخدم في الطب والصناعة." },
  { keywords: ["التكنولوجيا الحيوية"], answer: "تدمج بين العلوم البيولوجية والتقنية لتطوير المنتجات الطبية والزراعية." },
  { keywords: ["البرمجيات"], answer: "البرمجيات هي البرامج التي تُشغل الأجهزة وتساعد على تنفيذ الأوامر." },
  { keywords: ["الشبكات"], answer: "الشبكات تربط الحواسيب لتبادل المعلومات مثل الإنترنت." },
  { keywords: ["الإنترنت"], answer: "الإنترنت هو شبكة عالمية تنقل البيانات والمعلومات بسرعة هائلة." },
  { keywords: ["السايبر سيكيورتي"], answer: "أمن المعلومات يحمي الأنظمة من الاختراق والهجمات الإلكترونية." },
  { keywords: ["الواقع الافتراضي"], answer: "VR تقنية تنقل المستخدم لعالم خيالي ثلاثي الأبعاد." },
  { keywords: ["التعليم الإلكتروني"], answer: "التعليم عبر الإنترنت يسهل الوصول للمعرفة في أي وقت ومكان." },
  { keywords: ["البيانات"], answer: "البيانات هي المعلومات الخام التي تُحلل لاستخلاص قرارات مفيدة." },
  { keywords: ["تحليل البيانات"], answer: "تحليل البيانات يُستخدم لفهم الاتجاهات واتخاذ قرارات مبنية على معلومات." },
  { keywords: ["الإحصاء"], answer: "الإحصاء يدرس كيفية جمع البيانات وتحليلها واستخلاص النتائج." },
  { keywords: ["الرياضيات"], answer: "الرياضيات هي لغة العلم، تُستخدم في كل التخصصات العلمية والهندسية." },
  { keywords: ["التشفير"], answer: "التشفير يحمي البيانات من التلاعب والسرقة في العالم الرقمي." }
,

 { keywords: ["الدين"], answer: "كل الي اعرفه عموما اعرف عن الدين الاسلامي انه افضل الاديان و هو الاصح طبعا لو هتسال عن ديني فانا ديني هو الاسلام اظن ريهتك وجبتها علي بلاطه "},



































































































































];



function matchSmartEntry(input, entries) {
  const normalized = input.toLowerCase();
  for (const entry of entries) {
    for (const key of entry.keywords) {
      if (normalized.includes(key)) {
        return entry.answer;
      }
    }
  }
  return null;
}



async function generateanswer(input) {
  const normalized = input.toLowerCase().trim();

  // تحيات ذكية
  const greet = matchSmartEntry(normalized, smartGreetings);
  if (greet) return greet;

  // ردود ذكية عامة
  const reply = matchSmartEntry(normalized, smartReplies);
  if (reply) return reply;

  // لو مفيش حاجة محفوظة، ابحث أونلاين
  const webResult = await searchOnline(input);
  return webResult;
}



const chatWindow = document.getElementById("chat-window");
const chatForm = document.getElementById("chat-form");
const userInput = document.getElementById("user-input");

function addMessage(text, sender) {
  const div = document.createElement("div");
  div.className = sender === "user" ? "user-message" : "bot-message";

  // تحويل أي رابط إلى <a> قابل للضغط
  const withLinks = text.replace(/(https?:\/\/[^\s]+)/g, (url) => {
    return `<a href="${url}" target="_blank" style="color:#4fc3f7;text-decoration:underline;">${url}</a>`;
  });

  div.innerHTML = withLinks;
  chatWindow.appendChild(div);
  chatWindow.scrollTop = chatWindow.scrollHeight;
}



chatForm.addEventListener("submit", async function (e) {
  e.preventDefault();
  const input = userInput.value.trim();
  if (!input) return;

  addMessage(input, "user");

  

const reply = await generateanswer(input);
setTimeout(() => {
  addMessage(reply, "bot");
}, 500);







  userInput.value = "";
  userInput.focus();
});

















async function searchOnline(query) {
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
  // 1. DuckDuckGo
  try {
    const duckUrl = `https://api.duckduckgo.com/?q=${encodeURIComponent(query)}&format=json&no_redirect=1&no_html=1&skip_disambig=1`;
    const duckRes = await fetch(duckUrl);
    const duckData = await duckRes.json();
    if (duckData?.AbstractText) {
      return `🦆 من DuckDuckGo:\n${duckData.AbstractText}`;
    }
  } catch (e) {
    console.warn("DuckDuckGo failed", e);
  }

  // 2. Gemini
  try {
    const geminiRes = await fetch(
      `https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyCYMGlNM8idYJz1Y2K81DUPEN0nFFNNsMU`,
      {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          contents: [{ parts: [{ text: query }] }]
        })
      }
    );
    const geminiData = await geminiRes.json();
    const geminiReply = geminiData?.candidates?.[0]?.content?.parts?.[0]?.text;
    if (geminiReply) {
      return `🤖 من Gemini:\n${geminiReply}`;
    }
  } catch (e) {
    console.warn("Gemini failed", e);
  }

  // 3. Wikipedia (get summary only)
  try {
    const wikiTitle = encodeURIComponent(query);
    const wikiUrl = `https://ar.wikipedia.org/api/rest_v1/page/summary/${wikiTitle}`;
    const wikiRes = await fetch(wikiUrl);
    const wikiData = await wikiRes.json();
    if (wikiData?.extract) {
      return `📚 من ويكيبيديا:\n${wikiData.extract}`;
    }
  } catch (e) {
    console.warn("Wikipedia failed", e);
  }

  // 4. Wikidata
  try {
    const wdUrl = `https://www.wikidata.org/w/api.php?action=wbsearchentities&format=json&language=ar&search=${encodeURIComponent(query)}&origin=*`;
    const wdRes = await fetch(wdUrl);
    const wdData = await wdRes.json();
    const result = wdData?.search?.[0]?.description;
    if (result) {
      return `🧠 من Wikidata:\n${result}`;
    }
  } catch (e) {
    console.warn("Wikidata failed", e);
  }

  // 5. OpenMetea
  try {
    const meteaRes = await fetch(`https://api.openmetea.com/search?q=${encodeURIComponent(query)}&lang=ar`);
    const meteaData = await meteaRes.json();
    if (meteaData?.summary) {
      return `📘 من OpenMetea:\n${meteaData.summary}`;
    }
  } catch (e) {
    console.warn("OpenMetea failed", e);
  }

  // If all fail
  return "❌ عذرًا، لم أتمكن من العثور على إجابة دقيقة لسؤالك.";
}